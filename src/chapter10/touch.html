<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Touch</title>
    <link rel="stylesheet" type="text/css" href="../../css/styles.css"/>
    <script type="text/javascript" src="../../lib/d3.js"></script>

    <style type="text/css">
        svg {cursor: pointer}

        circle {
            fill: none;
            stroke: steelblue;
        }
    </style>
</head>

<body>

<script type="text/javascript">
    var h = 700, w = 1100, r = 400;

    var svg = d3.select("body")
            .append("svg")
            .attr("width", w)
            .attr("height", h);

    var positionLabel = svg.append("text")
            .attr("x", 10)
            .attr("y", 30);

    function printPosition() {
        var position = d3.mouse(svg.node());
        positionLabel.text(position);
    }

    svg.on("touchmove", function () {
        printPosition();
    });

    svg.on("click", function () {
        for (var i = 1; i < 5; ++i) {
            var position = d3.mouse(svg.node());

            var circle = svg.append("circle")
                    .attr("cx", position[0])
                    .attr("cy", position[1])
                    .attr("r", 0)
                    .style("stroke-width", 5 / (i))
                    .transition().delay(Math.pow(i,2.5)*50).duration(2000).ease('quad-in')
                    .attr("r", r)
                    .style("stroke-opacity", 0);
        }
    });
</script>

</body>

</html>